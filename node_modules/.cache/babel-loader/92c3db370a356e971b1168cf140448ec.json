{"ast":null,"code":"import _slicedToArray from \"/home/obelix/Documents/LP MI AW/MI2_Front/Projet REACT/react-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/obelix/Documents/LP MI AW/MI2_Front/Projet REACT/react-project/src/components/Blog.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Article from './Article.js';\nimport Menu from './Menu.js';\nimport cssBlog from './Blog.css';\nimport { Link } from 'react-router-dom';\nvar Blog = function Blog() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    authorName = _useState4[0],\n    setAuthorName = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    newMessage = _useState6[0],\n    setNewMessage = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    checkMessageSize = _useState8[0],\n    setCheckMessageSize = _useState8[1]; //const [showSizeMessage, setShowSizeMessage] = useState(false);\n  useEffect(function () {\n    axios.get(\"http://localhost:3003/articles\").then(function (res) {\n      return setData(res.data);\n    });\n  }, []);\n\n  //<p id='blog-min-chars' style={{ visibility: showSizeMessage ? 'visible' : 'hidden' }}>Veuillez écrire un minimum de 100 caractères.</p>\n\n  var addArticle = function addArticle(element) {\n    element.preventDefault();\n    if (checkMessageSize) {\n      axios.post('http://localhost:3003/articles', {\n        author: authorName,\n        content: newMessage,\n        date: Date.now()\n      });\n      //setShowSizeMessage(false);\n    } else {\n      console.log('message trop court');\n      //setShowSizeMessage(true);\n    }\n  };\n\n  var deleteArticle = function deleteArticle(elt) {\n    delete data[elt];\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"Blog\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Blog\"), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"div-input-article\",\n    onSubmit: function onSubmit(element) {\n      return addArticle(element);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Nom\",\n    className: \"name-input\",\n    onChange: function onChange(element) {\n      return setAuthorName(element.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"blog-textarea\",\n    placeholder: \"Message\",\n    className: \"message-input\",\n    onChange: function onChange(element) {\n      return setNewMessage(element.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"blog-min-chars\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Veuillez \\xE9crire un minimum de 100 caract\\xE8res.\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: newMessage.length >= 100 ? setCheckMessageSize(true) : setCheckMessageSize(false),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Envoyer\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"div-output-article\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, data.map(function (element) {\n    return /*#__PURE__*/React.createElement(Article, {\n      author: element.author,\n      date: element.date,\n      message: element.content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    });\n  })));\n};\nexport default Blog;","map":{"version":3,"names":["React","useEffect","useState","axios","Article","Menu","cssBlog","Link","Blog","data","setData","authorName","setAuthorName","newMessage","setNewMessage","checkMessageSize","setCheckMessageSize","get","then","res","addArticle","element","preventDefault","post","author","content","date","Date","now","console","log","deleteArticle","elt","target","value","length","map"],"sources":["/home/obelix/Documents/LP MI AW/MI2_Front/Projet REACT/react-project/src/components/Blog.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Article from './Article.js';\nimport Menu from './Menu.js';\nimport cssBlog from './Blog.css';\nimport { Link } from 'react-router-dom';\n\n\nconst Blog = () => {\n\n    const [data, setData] = useState([]);\n    const [authorName, setAuthorName] = useState('');\n    const [newMessage, setNewMessage] = useState('');\n    const [checkMessageSize, setCheckMessageSize] = useState(false);\n    //const [showSizeMessage, setShowSizeMessage] = useState(false);\n\n    useEffect(() => {\n        axios.get(\"http://localhost:3003/articles\").then((res) => setData(res.data));\n    }, []);\n\n    //<p id='blog-min-chars' style={{ visibility: showSizeMessage ? 'visible' : 'hidden' }}>Veuillez écrire un minimum de 100 caractères.</p>\n\n    const addArticle = (element) => {\n        element.preventDefault();\n        if (checkMessageSize) {\n            axios.post('http://localhost:3003/articles', { author: authorName, content: newMessage, date: Date.now() });\n            //setShowSizeMessage(false);\n\n        } else {\n            console.log('message trop court');\n            //setShowSizeMessage(true);\n        }\n    }\n\n    const deleteArticle = (elt) => {\n        delete data[elt];\n    }\n\n    return (\n        <div id='Blog'>\n            <Menu></Menu>\n\n            <h1>Blog</h1>\n\n            <form id='div-input-article' onSubmit={(element) => addArticle(element)}>\n                <input\n                    type=\"text\"\n                    placeholder='Nom'\n                    className='name-input'\n                    onChange={(element) => setAuthorName(element.target.value)}\n                    required />\n\n                <textarea\n                    id='blog-textarea'\n                    placeholder='Message'\n                    className='message-input'\n                    onChange={(element) => setNewMessage(element.target.value)}\n                    required />\n\n\n                <p id='blog-min-chars' >Veuillez écrire un minimum de 100 caractères.</p>\n\n                <button type='submit' onClick={(newMessage.length >= 100) ? setCheckMessageSize(true) : setCheckMessageSize(false)}>Envoyer</button>\n            </form>\n\n            <div id='div-output-article'>\n                {data.map((element) =>\n                    <Article author={element.author} date={element.date} message={element.content} />\n                )}\n            </div>\n        </div >\n    );\n};\n\nexport default Blog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}